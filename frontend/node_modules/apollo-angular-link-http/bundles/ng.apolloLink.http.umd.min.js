!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common/http"),require("apollo-link"),require("graphql/language/printer"),require("apollo-angular-link-http-common")):"function"==typeof define&&define.amd?define("apollo-angular-link-http",["exports","@angular/core","@angular/common/http","apollo-link","graphql/language/printer","apollo-angular-link-http-common"],t):t((e=e||self)["ng.apolloLink.http"]={},e.ng.core,e.ng.common.http,e.apolloLink.core,e.printer,e.ng.apolloLink.httpCommon)}(this,function(e,t,n,o,r,i){"use strict";var u=function(e,t){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function p(e,t,n,o){var r,i=arguments.length,u=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,o);else for(var p=e.length-1;p>=0;p--)(r=e[p])&&(u=(i<3?r(u):i>3?r(t,n,u):r(t,n))||u);return i>3&&u&&Object.defineProperty(t,n,u),u}function a(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}var l=function(e){function t(t,n){var u=e.call(this)||this;return u.httpClient=t,u.options=n,u.requester=function(e){return new o.Observable(function(t){var n=e.getContext(),o=function(e,t){return i.prioritize(n[e],u.options[e],t)},p=o("includeQuery",!0),a=o("includeExtensions",!1),l=o("method","POST"),c=o("uri","graphql"),s=o("withCredentials"),f=o("useMultipart"),d={method:l,url:"function"==typeof c?c(e):c,body:{operationName:e.operationName,variables:e.variables},options:{withCredentials:s,useMultipart:f,headers:u.options.headers}};a&&(d.body.extensions=e.extensions),p&&(d.body.query=r.print(e.query)),n.headers&&(d.options.headers=i.mergeHeaders(d.options.headers,n.headers));var h=i.fetch(d,u.httpClient).subscribe({next:function(n){e.setContext({response:n}),t.next(n.body)},error:function(e){return t.error(e)},complete:function(){return t.complete()}});return function(){h.closed||h.unsubscribe()}})},u}return function(e,t){function n(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.request=function(e){return this.requester(e)},t}(o.ApolloLink),c=function(){function e(e){this.httpClient=e}return e.prototype.create=function(e){return new l(this.httpClient,e)},e=p([t.Injectable(),a("design:paramtypes",[n.HttpClient])],e)}(),s=[c],f=function(){function e(){}return e=p([t.NgModule({providers:s})],e)}();e.HttpLink=c,e.HttpLinkHandler=l,e.HttpLinkModule=f,e.PROVIDERS=s,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ng.apolloLink.http.umd.min.js.map